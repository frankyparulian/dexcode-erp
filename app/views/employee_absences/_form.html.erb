<%= form_for [@employee, @absence], html: { class: 'form-horizontal', :"ng-controller" => "EmployeeFormController" } do |f| %>
  <fieldset>
    <legend>Absence Info</legend>
    <div class="form-group">
      <%= f.label :date, class: 'col-sm-2 control-label' %>
      <div class="col-sm-10">
        <%= f.text_field :date, placeholder: 'Absence Date',
                         :"datepicker-popup" => 'yyyy-MM-dd',
                         :"ng-model" => 'employee.startDate',
                         :"ng-focus" => 'openStartDatePopup()',
                         :"is-open" => "startDatePopupOpened",
                         required: true %>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :reason, class: 'col-sm-2 control-label'  %>
      <div class="col-sm-10">
        <%= f.text_field :reason, placeholder: 'Reason', required: true %>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :use_sick_days, class: 'col-sm-2 control-label'  %>
      <div class="col-sm-10">
        <%= f.check_box :use_sick_days %>
      </div>
    </div>
  </fieldset>

  <div class="form-group">
    <div class="col-sm-2"></div>
    <div class="col-sm-10">
      <%= f.submit 'Save', class: 'button button-default' %>
      <% if @absence.persisted? %>
      <%= link_to "Delete Absence", employee_employee_absence_url, method: :delete, class: 'button button-default' %>
      <% end %>
    </div>
  </div>
<% end %>